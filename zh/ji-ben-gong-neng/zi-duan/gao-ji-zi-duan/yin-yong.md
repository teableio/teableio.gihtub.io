# 引用

## 简介

引用是建立在已有关联字段基础上的一个创建字段的动作。它允许你从一个表中的关联字段引用另一个表中的具体数据字段。这不仅使得你能够跨表共享数据，而且保证数据的一致性和完整性。

> 与其他产品不同，我们的“引用”并不是一个字段类型。引用在这里被视为一个特殊的动作。当你创建一个引用时，你实际上是创建了一个与被你引用的字段相同的字段，这是同时数据是从与该字段的关联记录中获取的。

## 引用字段与关联字段的关系

为了使用引用字段，你首先需要创建一个关联字段，将两个表关联起来。一旦关联建立，你就可以在一个表中使用引用字段来引用另一个表中的任何字段。

## 如何创建引用字段

确保你已经为两个想要关联的表创建了关联字段。 在你希望添加引用字段的表中，选择"添加字段"，然后选择"引用"。 基于已有的关联字段，选择你想要引用的源表和具体字段。

## 引用字段的应用场景和示例

考虑以下的书店场景：

首先，我们有两个表格：“作者详情”和“书籍”。

### 作者详情表

| 作者名称            | 出生日期 |
| --------------- | ---- |
| Steve McConnell | 1960 |
| Martin Fowler   | 1963 |
| Erich Gamma     | 1961 |

在这个表中，我们列出了每个作者的出生日期。

### 书籍表

| 书籍名称   | 作者关联            | 作者出生日期(引用字段) |
| ------ | --------------- | ------------ |
| 《代码大全》 | Steve McConnell | 1960         |
| 《重构》   | Martin Fowler   | 1963         |
| 《设计模式》 | Erich Gamma     | 1961         |

在书籍表中，当我们选择了某个作者，作者出生日期的引用字段会自动显示所选作者的出生日期：

* 对于《代码大全》，我们选择了作者 Steve McConnell，他的出生日期是1960，所以作者出生日期的引用字段会显示1960。
* 对于《重构》，我们选择了作者 Martin Fowler，他的出生日期是1963，所以作者出生日期的引用字段会显示1963。
* 对于《设计模式》，我们选择了作者 Erich Gamma，他的出生日期是1961，所以作者出生日期的引用字段会显示1961。

这样，通过使用引用字段，我们可以轻松地在“书籍”表中显示每个作者的出生日期，而不必为每本书重复输入或手动查找。这是一个非常有用的功能，允许我们避免重复数据输入，确保数据的一致性和准确性，并简化数据管理过程。

## 格式化与交互展现：

引用字段的数据类型，[格式化](../tong-yong/ge-shi-hua.md)和[交互展现](../tong-yong/jiao-hu-zhan-xian.md)都是由被引用的字段决定的。这意味着，如果你引用了一个日期类型的字段，那么引用字段也将被视为日期类型，并可以进行日期相关的格式化。

## 公式与汇总计算：

当引用字段被用于公式或汇总计算时，其数据类型也是由被引用的字段决定的。例如，如果你在公式中使用了一个引用字段，该字段引用的是数字类型，那么这个引用字段在公式中的行为就像一个数字。

## 注意事项

**数据完整性：**确保你引用的源表和字段存在和有效。删除源表或字段可能会导致引用字段无法正确显示数据。 引用展现形式：引用字段可以拥有和被引用字段一样的展现形式，这意味着如果你在源表中修改了数据的展现形式，它也会在引用字段中反映出来。

**单值与多值：**被引用的字段可能因为多对一的关联关系，是的它被引用之后由单值类型变成了多值类型，比如说，单选字段被引用后，因为由多条关联记录进行了关联的原因，变成了“多选”的样子，这是一种正常的逻辑。具体请查看[单值与多值章节](../tong-yong/dan-zhi-yu-duo-zhi.md)进行进一步了解。

## 结语

引用字段提供了一种高效、简洁的方法来跨表引用和显示数据。这种灵活性允许用户在不同的表格之间轻松共享和计算数据，而不需要进行复杂的数据同步或转换。理解这一概念将帮助用户更加灵活和高效地使用产品，最大化其数据管理和自动化能力。
